# –°–¢–ï–†–ï–û–≠–§–§–ï–ö–¢ –í –§–û–¢–û–ì–†–ê–ú–ú–ï–¢–†–ò–ò
## –ü–æ–ª–Ω—ã–π —É—á–µ–±–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª: –õ–µ–∫—Ü–∏—è + –ö–æ–¥ + –ú–µ—Ç–æ–¥–∏–∫–∞ + –†–µ—Å—É—Ä—Å—ã

**–ö—É—Ä—Å:** –ú–ò–ò–ì–ê–∏–ö, –∫–∞—Ñ–µ–¥—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏  
**–¢–µ–º–∞:** –°—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∏ –∏–∑–º–µ—Ä–µ–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤  
**–£—Ä–æ–≤–µ–Ω—å:** –ë–∞–∫–∞–ª–∞–≤—Ä–∏–∞—Ç, 3-–π –∫—É—Ä—Å  
**–ù–∞ –æ—Å–Ω–æ–≤–µ:** –£—á–µ–±–Ω–æ–µ –ø–æ—Å–æ–±–∏–µ –ö—Ä–∞—Å–Ω–æ–ø–µ–≤—Ü–µ–≤–∞ –ë.–í. (2008)  
**–í–µ—Ä—Å–∏—è:** 1.0, –¥–µ–∫–∞–±—Ä—å 2024

---

# –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–õ–ï–ö–¶–ò–Ø: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç](#–ª–µ–∫—Ü–∏—è-–ø–æ–ª–Ω—ã–π-–∫–æ–Ω—Å–ø–µ–∫—Ç)
2. [–ö–û–î: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã](#–∫–æ–¥-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã)
3. [–ú–ï–¢–û–î–ò–ö–ê: –î–ª—è –ª–µ–∫—Ç–æ—Ä–∞](#–º–µ—Ç–æ–¥–∏–∫–∞-–¥–ª—è-–ª–µ–∫—Ç–æ—Ä–∞)
4. [–°–ü–†–ê–í–û–ß–ù–ò–ö: –†–µ—Å—É—Ä—Å—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-—Ä–µ—Å—É—Ä—Å—ã-–∏-–∏—Å—Ç–æ—á–Ω–∏–∫–∏)

---

# –õ–ï–ö–¶–ò–Ø: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç

## –ß–ê–°–¢–¨ 1: –û–°–ù–û–í–´ –ò –ò–°–¢–û–†–ò–Ø

### 1.1 –ü–æ—á–µ–º—É –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Å—Ç–µ—Ä–µ–æ—ç—Ñ—Ñ–µ–∫—Ç?

**–í–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É –º—ã –º–æ–∂–µ–º –≤–∏–¥–µ—Ç—å –≥–ª—É–±–∏–Ω—É –¥–≤—É–º—è –≥–ª–∞–∑–∞–º–∏? –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –º–æ–∑–≥–µ?

**–û—Ç–≤–µ—Ç:** –ë–∏–Ω–æ–∫—É–ª—è—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –¥–≤—É—Ö –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞—é—â–∏—Ö—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –ö–∞–∂–¥—ã–π –≥–ª–∞–∑ –≤–∏–¥–∏—Ç –º–∏—Ä —Å —á—É—Ç—å –¥—Ä—É–≥–æ–≥–æ —É–≥–ª–∞.

**–ü—Ä–∏–º–µ—Ä:** –ó–∞–∫—Ä–æ–π—Ç–µ –ª–µ–≤—ã–π –≥–ª–∞–∑ –∏ —É–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–ª–µ—Ü –Ω–∞ —Ñ–æ–Ω–µ –∫–æ–º–Ω–∞—Ç—ã. –ó–∞—Ç–µ–º –∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–∞–≤—ã–π –≥–ª–∞–∑. –ü–∞–ª–µ—Ü ¬´–ø—Ä—ã–≥–Ω—É–ª¬ª –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–∞–Ω—Ç–∏–º–µ—Ç—Ä–æ–≤! –≠—Ç–æ *–ø–∞—Ä–∞–ª–ª–∞–∫—Å* ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —è–≤–ª–µ–Ω–∏–µ.

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏:**
- –î–≤–µ –∫–∞–º–µ—Ä—ã –Ω–∞ —Å–∞–º–æ–ª—ë—Ç–µ –∏–ª–∏ –¥—Ä–æ–Ω–µ —Å–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ü–æ–ª—É—á–∞–µ—Ç—Å—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞ ‚Äî –¥–≤–∞ —Å–Ω–∏–º–∫–∞ —Å —á—É—Ç—å —Å–º–µ—â—ë–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
- –ë–ª–∞–≥–æ–¥–∞—Ä—è —Å–º–µ—â–µ–Ω–∏—é (–ø–∞—Ä–∞–ª–ª–∞–∫—Å—É) –º—ã –≤—ã—á–∏—Å–ª—è–µ–º –≤—ã—Å–æ—Ç—É –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏
- –¢–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞—Ä—Ç—ã, –º–æ–¥–µ–ª–∏ —Ä–µ–ª—å–µ—Ñ–∞, 3D –º–æ–¥–µ–ª–∏ –∑–¥–∞–Ω–∏–π

### 1.2 –ö—Ä–∞—Ç–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è (–∑–∞—á–µ–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å?)

| –ì–æ–¥ | –°–æ–±—ã—Ç–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----|---------|----------|
| 1725 | –ú.–ê. –ö–∞–ø–ø–µ–ª–µ—Ä —Ä–∏—Å—É–µ—Ç –¥–≤–µ –ø–∞–Ω–æ—Ä–∞–º—ã –≥–æ—Ä—ã –ü–∏–ª–∞—Ç—É—Å | **–†–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –∑–∞—Å–µ—á–∫–∏** |
| 1852 | –≠. –õ–æ—Å—Å–µ–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–≤—É—é —Ñ–æ—Ç–æ —Å—ä—ë–º–∫—É –¥–ª—è –ø–ª–∞–Ω–∞ | –ù–∞—á–∞–ª–æ —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏ (–Ω–∞–∑–≤–∞–ª –µ—ë *–º–µ—Ç—Ä–æ—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è*) |
| 1892 | –§. –®—Ç–æ–ª—å—Ü –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–ø–æ—Å–æ–± –º–Ω–∏–º–æ–π –º–∞—Ä–∫–∏ | **–ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 130 –ª–µ—Ç! |
| 1901 | –ö. –ü—É–ª—Ñ—Ä–∏—Ö —Å–æ–∑–¥–∞—ë—Ç —Å—Ç–µ—Ä–µ–æ–∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä | –û–ø—Ç–∏–∫–æ-–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–±–æ—Ä –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ |
| 1957‚Äì1960 | –Æ.–í. –•–µ–ª–∞–≤–∞: –ø–µ—Ä–≤—ã–π *–∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–ª–æ—Ç—Ç–µ—Ä* (–ê–ü-1) | –ù–∞—á–∞–ª–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π —ç—Ä—ã |
| 1990-–µ | –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã | –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏—è —Ä–æ–¥–∏–ª–∞—Å—å |
| 2020-–µ | –ù–µ–π—Ä–æ—Å–µ—Ç–∏ + –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã | Future is hybrid |

**–ì–ª–∞–≤–Ω—ã–π –≤—ã–≤–æ–¥:** –¢–æ, —á—Ç–æ –≤—Ä—É—á–Ω—É—é –¥–µ–ª–∞–ª–∏ 150 –ª–µ—Ç, —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ ‚Äî –Ω–æ *–ø—Ä–∏–Ω—Ü–∏–ø—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏*.

---

## –ß–ê–°–¢–¨ 2: –§–£–ù–î–ê–ú–ï–ù–¢–ê–õ–¨–ù–´–ï –ö–û–ù–¶–ï–ü–¶–ò–ò

### 2.1 –ß—Ç–æ —Ç–∞–∫–æ–µ —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞?

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ü–∞—Ä–∞ —Ñ–æ—Ç–æ—Å–Ω–∏–º–∫–æ–≤ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑ **—Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–µ–∫** –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.

**–£—Å–ª–æ–≤–∏—è –≤–∞–ª–∏–¥–Ω–æ–π —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—ã:**

1. **–ú–∞—Å—à—Ç–∞–±:** —Ä–∞–∑–ª–∏—á–∏–µ –º–∞—Å—à—Ç–∞–±–æ–≤ ‚â§ 16%
2. **–ö–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏—è:** —É–≥–æ–ª –º–µ–∂–¥—É –æ–ø—Ç–∏—á–µ—Å–∫–∏–º–∏ –æ—Å—è–º–∏ ‚â§ 15¬∞
3. **–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ:** —Ö–æ—Ç—è –±—ã 50% –æ–±—â–µ–π –ø–ª–æ—â–∞–¥–∏

### 2.2 –°—Ç–µ—Ä–µ–æ–º–æ–¥–µ–ª—å –∏ –µ—ë –º–∞—Å—à—Ç–∞–±

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –¢—Ä—ë—Ö–º–µ—Ä–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞, –≤–æ–∑–Ω–∏–∫–∞—é—â–µ–µ –ø—Ä–∏ —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–æ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–∏ —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—ã.

**–ö–ª—é—á–µ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ:** –ú–∞—Å—à—Ç–∞–± –≥–ª—É–±–∏–Ω—ã *–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è* –æ—Ç –º–∞—Å—à—Ç–∞–±–∞ –≤ –ø–ª–∞–Ω–µ!

**–§–æ—Ä–º—É–ª–∞ –º–∞—Å—à—Ç–∞–±–∞ –≥–ª—É–±–∏–Ω—ã:**

$$m_z = m_{xy} \cdot \frac{250}{f}$$

–≥–¥–µ:
- $m_{xy}$ = –º–∞—Å—à—Ç–∞–± –≤ –ø–ª–∞–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1:1000)
- $f$ = —Ñ–æ–∫—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –≤ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö
- 250 = —Å—Ç–µ—Ä–µ–æ–º–æ–¥—É–ª—å–Ω—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞)

**–ß–∏—Å–ª–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**
- –î–∞–Ω–æ: $m_{xy} = 1:1000$, —Ñ–æ–∫—É—Å $f = 100$ –º–º
- –í—ã—á–∏—Å–ª—è–µ–º: $m_z = \frac{1}{1000} \cdot \frac{250}{100} = \frac{1}{400}$
- **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –º–∞—Å—à—Ç–∞–± 1:400, –ø–ª–∞–Ω–æ–≤—ã–π 1:1000
  - –•–æ–ª–º–∏–∫ –≤—ã–≥–ª—è–¥–∏—Ç 2.5 —Ä–∞–∑–∞ –≤—ã—à–µ, —á–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏!

### 2.3 –ü–∞—Ä–∞–ª–ª–∞–∫—Å ‚Äî –∫–æ—Ä–æ–ª—å —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏–∏

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –°–º–µ—â–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ—á–∫–∏ –º–µ–∂–¥—É –ª–µ–≤—ã–º –∏ –ø—Ä–∞–≤—ã–º —Å–Ω–∏–º–∫–∞–º–∏.

**–û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ (–ó–ê–ü–û–ú–ù–ò–¢–¨!):**

$$Z = \frac{f \times B}{p}$$

–≥–¥–µ:
- $Z$ = –≥–ª—É–±–∏–Ω–∞ —Ç–æ—á–∫–∏ (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –∫–∞–º–µ—Ä –¥–æ –æ–±—ä–µ–∫—Ç–∞)
- $f$ = —Ñ–æ–∫—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–≤ –ø–∏–∫—Å–µ–ª—è—Ö!)
- $B$ = –±–∞–∑–∏—Å –º–µ–∂–¥—É –∫–∞–º–µ—Ä–∞–º–∏ (–≤ –º–µ—Ç—Ä–∞—Ö)
- $p$ = –ø–∞—Ä–∞–ª–ª–∞–∫—Å (–≤ –ø–∏–∫—Å–µ–ª—è—Ö)

**–ß–∏—Å–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:**

| f (px) | B (—Å–º) | p (px) | Z (–º) |
|--------|--------|--------|-------|
| 3000 | 10 | 10 | **30** |
| 3000 | 10 | 30 | **10** |
| 3000 | 10 | 100 | **3** |

**–í—ã–≤–æ–¥:** –ü–∞—Ä–∞–ª–ª–∞–∫—Å –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª–µ–Ω –≥–ª—É–±–∏–Ω–µ!

### 2.4 –¢–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–ª—É–±–∏–Ω—ã

**–û—à–∏–±–∫–∞ –≤ –≥–ª—É–±–∏–Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å –æ—à–∏–±–∫–æ–π –≤ –ø–∞—Ä–∞–ª–ª–∞–∫—Å–µ:**

$$\sigma_Z = \frac{f \times B}{p^2} \times \sigma_p$$

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ $\sigma_p = 1$ px –≤ 10 —Ä–∞–∑ –±–æ–ª—å—à–µ, —á–µ–º –ø—Ä–∏ 0.1 px
- –¢–æ –æ—à–∏–±–∫–∞ –≤ –≥–ª—É–±–∏–Ω–µ $\sigma_Z$ –≤–æ–∑—Ä–∞—Å—Ç–∞–µ—Ç –≤ 100 —Ä–∞–∑ (!!)
- **–í—ã–≤–æ–¥:** –¢–æ—á–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞. –ù—É–∂–µ–Ω —Ç–æ—á–Ω—ã–π —Å—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥

---

## –ß–ê–°–¢–¨ 3: –≠–ü–ò–ü–û–õ–Ø–†–ù–ê–Ø –ì–ï–û–ú–ï–¢–†–ò–Ø

### 3.1 –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ —ç–ø–∏–ø–æ–ª—è—Ä–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è?

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–≥–¥–∞ —è –Ω–∞—à—ë–ª —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∏–∫—Å–µ–ª—å –≤ –ª–µ–≤–æ–º —Å–Ω–∏–º–∫–µ, –≥–¥–µ –µ–≥–æ –∏—Å–∫–∞—Ç—å –≤ –ø—Ä–∞–≤–æ–º?

- **–ù–∞–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–±:** –ò—Å–∫–∞—Ç—å –ø–æ –≤—Å–µ–π –ø–æ–ª–æ—Å–µ ‚Üí –º–µ–¥–ª–µ–Ω–Ω–æ (O(n¬≤))
- **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±:** –ò—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ *—ç–ø–∏–ø–æ–ª—è—Ä–Ω–æ–π –ª–∏–Ω–∏–∏* ‚Üí –±—ã—Å—Ç—Ä–æ (O(n))

### 3.2 –í—ã–ø—Ä—è–º–ª–µ–Ω–∏–µ (Rectification)

**–ò–¥–µ—è:** –ü–æ–≤–µ—Ä–Ω—É—Ç—å –æ–±–∞ —Å–Ω–∏–º–∫–∞ —Ç–∞–∫, —á—Ç–æ–±—ã —ç–ø–∏–ø–æ–ª—è—Ä–Ω—ã–µ –ª–∏–Ω–∏–∏ —Å—Ç–∞–ª–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º–∏.

**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –≤—ã–ø—Ä—è–º–ª–µ–Ω–∏—è:**
$$y_L = y_R \text{ (–æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ y)}$$

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç: –µ—Å–ª–∏ —Ç–æ—á–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–æ–∫–µ 150 –ª–µ–≤–æ–≥–æ —Å–Ω–∏–º–∫–∞, –µ—ë —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–π–¥—ë—Ç—Å—è –Ω–∞ —Å—Ç—Ä–æ–∫–µ 150 –ø—Ä–∞–≤–æ–≥–æ —Å–Ω–∏–º–∫–∞!

---

## –ß–ê–°–¢–¨ 4: –ê–õ–ì–û–†–ò–¢–ú–´ –°–¢–ï–†–ï–û–ú–ê–¢–ß–ò–ù–ì–ê

### 4.1 –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏

**–î–∞–Ω–æ:**
- –í—ã–ø—Ä—è–º–ª–µ–Ω–Ω–∞—è –ª–µ–≤–∞—è –∏ –ø—Ä–∞–≤–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞
- –ö–∞–∂–¥—ã–π –ø–∏–∫—Å–µ–ª—å –ª–µ–≤–æ–≥–æ —Å–Ω–∏–º–∫–∞ $I_L(x, y)$

**–ù–∞–π—Ç–∏:**
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–∏–∫—Å–µ–ª—å –≤ –ø—Ä–∞–≤–æ–º —Å–Ω–∏–º–∫–µ $I_R(x - d, y)$
- –ü–∞—Ä–∞–ª–ª–∞–∫—Å $d$ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ $(x, y)$

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞—Ä—Ç–∞ –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç–∏ (disparity map)

### 4.2 Block Matching (BM) ‚Äî –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥

**–ò–¥–µ—è:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è —Å–ª–µ–≤–∞ –Ω–∞–π—Ç–∏ **–ø–æ—Ö–æ–∂–µ–µ** –æ–∫–Ω–æ —Å–ø—Ä–∞–≤–∞.

**–ú–µ—Ä–∞ —Å—Ö–æ–¥—Å—Ç–≤–∞ (Sum of Absolute Differences, SAD):**

$$\text{SAD}(d) = \sum_{i,j} |I_L(x+i, y+j) - I_R(x+i-d, y+j)|$$

–≥–¥–µ –æ–∫–Ω–æ $i, j \in [-7, +7]$ –¥–ª—è —Ä–∞–∑–º–µ—Ä–∞ 15√ó15.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã StereoBM:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|----------|--------|
| `blockSize` | 15 (–Ω–µ—á—ë—Ç–Ω–æ–µ) | –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞. –ú–µ–Ω—å—à–µ ‚Üí —à—É–º, –±–æ–ª—å—à–µ ‚Üí —Å–º–∞–∑–∞–Ω–æ |
| `numDisparities` | 80 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–∞–∫—Å. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –¥–∞–ª—å—à–µ ‚Üí –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å |

**–ü–ª—é—Å—ã:** –ü—Ä–æ—Å—Ç–∞—è, –±—ã—Å—Ç—Ä–∞—è (~100 –º—Å), –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è.

**–ú–∏–Ω—É—Å—ã:** –®—É–º–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–∫—Å—Ç—É—Ä–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö.

### 4.3 Semi-Global Matching (SGM) ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä

**–ò–¥–µ—è:** –î–æ–±–∞–≤–∏–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ‚Äî –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç–∏ —Å–æ—Å–µ–¥–Ω–∏—Ö –ø–∏–∫—Å–µ–ª–µ–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ—Ö–æ–∂–∏.

**–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è:**

$$E(\mathbf{d}) = \sum_p D(p, d_p) + \sum_{p, q \in N} R(p, d_p, q, d_q)$$

–≥–¥–µ:
- **–ü–µ—Ä–≤—ã–π —á–ª–µ–Ω** $D(p, d_p)$: –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è (SAD/SSD)
- **–í—Ç–æ—Ä–æ–π —á–ª–µ–Ω** $R(...)$: –®—Ç—Ä–∞—Ñ –∑–∞ —Ä–∞–∑–Ω–∏—Ü—É –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç–∏ —Å–æ—Å–µ–¥–µ–π

**–®—Ç—Ä–∞—Ñ –∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–æ—Å–µ–¥–µ–π:**

$$R = \begin{cases}
0 & \text{–µ—Å–ª–∏ } |d_p - d_q| = 0 \text{ (—Å–æ—Å–µ–¥–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç)}\\
P_1 & \text{–µ—Å–ª–∏ } |d_p - d_q| = 1 \text{ (—Å–ª–∞–±—ã–π —à—Ç—Ä–∞—Ñ)}\\
P_2 & \text{–µ—Å–ª–∏ } |d_p - d_q| > 1 \text{ (—Å–∏–ª—å–Ω—ã–π —à—Ç—Ä–∞—Ñ)}
\end{cases}$$

**–í—Ä–µ–º—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è:**
- StereoBM: ~100 –º—Å –¥–ª—è 1280√ó720
- StereoSGBM: ~500 –º—Å –¥–ª—è 1280√ó720

**–ö–∞—á–µ—Å—Ç–≤–æ:**
- StereoBM: 80% –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π (–Ω–∞ Middlebury benchmark)
- StereoSGBM: 95%+ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π

**–í—ã–≤–æ–¥:** SGM ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–±–æ—Ä –≤ —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏.

---

## –ß–ê–°–¢–¨ 5: –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –ö–û–î

### 5.1 –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```python
import cv2
import numpy as np
from matplotlib import pyplot as plt

# 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—ã–ø—Ä—è–º–ª–µ–Ω–Ω—ã–µ —Å–Ω–∏–º–∫–∏
left = cv2.imread('left_rect.jpg', cv2.IMREAD_GRAYSCALE)
right = cv2.imread('right_rect.jpg', cv2.IMREAD_GRAYSCALE)

# 2. –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç StereoBM
stereo = cv2.StereoBM_create(
    numDisparities=16*5,  # 80 –ø–∏–∫—Å–µ–ª–µ–π
    blockSize=15
)

# 3. –í—ã—á–∏—Å–ª–∏—Ç—å –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å
disparity = stereo.compute(left, right)

# 4. –í—ã—á–∏—Å–ª–∏—Ç—å –≥–ª—É–±–∏–Ω—É (–≥–ª–∞–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞!)
focal_length = 3000  # –ø–∏–∫—Å–µ–ª–∏
baseline = 0.1       # 10 —Å–º –≤ –º–µ—Ç—Ä–∞—Ö
depth = (focal_length * baseline) / (disparity.astype(float) / 16.0)

# 5. –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
plt.figure(figsize=(15, 5))
plt.subplot(131)
plt.imshow(left, cmap='gray')
plt.title('–õ–µ–≤—ã–π —Å–Ω–∏–º–æ–∫')

plt.subplot(132)
plt.imshow(disparity, cmap='hot')
plt.title('–ö–∞—Ä—Ç–∞ –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç–∏')

plt.subplot(133)
plt.imshow(depth, cmap='viridis')
plt.title('–ö–∞—Ä—Ç–∞ –≥–ª—É–±–∏–Ω—ã (–º–µ—Ç—Ä—ã)')

plt.tight_layout()
plt.show()
```

### 5.2 –° –∫–∞–ª–∏–±—Ä–æ–≤–∫–æ–π –∏ –≤—ã–ø—Ä—è–º–ª–µ–Ω–∏–µ–º

```python
import cv2
import numpy as np

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–º–µ—Ä (–∏–∑ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏)
K_left = np.array([
    [3000, 0, 320],
    [0, 3000, 240],
    [0, 0, 1]
], dtype=float)

K_right = np.array([
    [3000, 0, 320],
    [0, 3000, 240],
    [0, 0, 1]
], dtype=float)

d_left = np.array([0.05, -0.1, 0, 0])
d_right = np.array([0.05, -0.1, 0, 0])

R = np.eye(3)
t = np.array([[-0.1], [0], [0]])

size = (640, 480)

# –í—ã–ø—Ä—è–º–ª–µ–Ω–∏–µ
R1, R2, P1, P2, Q = cv2.stereoRectify(
    K_left, d_left,
    K_right, d_right,
    size, R, t,
    flags=cv2.CALIB_ZERO_DISPARITY,
    alpha=0
)

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—ã–ø—Ä—è–º–ª–µ–Ω–∏–µ
left_orig = cv2.imread('left_orig.jpg', cv2.IMREAD_GRAYSCALE)
right_orig = cv2.imread('right_orig.jpg', cv2.IMREAD_GRAYSCALE)

map1_left, map2_left = cv2.initUndistortRectifyMap(
    K_left, d_left, R1, P1, size, cv2.CV_32F
)
map1_right, map2_right = cv2.initUndistortRectifyMap(
    K_right, d_right, R2, P2, size, cv2.CV_32F
)

left_rect = cv2.remap(left_orig, map1_left, map2_left, cv2.INTER_LINEAR)
right_rect = cv2.remap(right_orig, map1_right, map2_right, cv2.INTER_LINEAR)

# –°—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥
stereo = cv2.StereoSGBM_create(
    minDisparity=0,
    numDisparities=80,
    blockSize=15,
    P1=600,
    P2=2400,
    disp12MaxDiff=1,
    preFilterCap=63,
    uniquenessRatio=10,
    speckleWindowSize=100,
    speckleRange=2
)

disparity = stereo.compute(left_rect, right_rect)

# –í—ã—á–∏—Å–ª–∏—Ç—å 3D –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
points_3d = cv2.reprojectImageTo3D(disparity, Q)

print(f"–û–±–ª–∞–∫–æ —Ç–æ—á–µ–∫ —Ñ–æ—Ä–º–∞: {points_3d.shape}")
print(f"Min –≥–ª—É–±–∏–Ω–∞: {points_3d[:,:,2].min()}")
print(f"Max –≥–ª—É–±–∏–Ω–∞: {points_3d[:,:,2].max()}")
```

### 5.3 –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 3D –æ–±–ª–∞–∫–∞ (Open3D)

```python
import open3d as o3d
import numpy as np

# points_3d –ø–æ–ª—É—á–µ–Ω–∞ –∏–∑ cv2.reprojectImageTo3D

# –†–∞—Å–ø–ª—é—â–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫ —Ç–æ—á–µ–∫
h, w = points_3d.shape[:2]
points = points_3d.reshape(-1, 3)

# –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–ª–æ—Ö–∏–µ —Ç–æ—á–∫–∏
valid = ~np.any(np.isnan(points) | np.isinf(points), axis=1)
points = points[valid]

# –°–æ–∑–¥–∞—Ç—å –æ–±–ª–∞–∫–æ —Ç–æ—á–µ–∫
pcd = o3d.geometry.PointCloud()
pcd.points = o3d.utility.Vector3dVector(points)

# –û—Ü–µ–Ω–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏
pcd.estimate_normals(search_param=o3d.geometry.KDTreeSearchParamHybrid(
    radius=0.1, max_nn=30
))

# –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
o3d.visualization.draw_geometries([pcd])

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
o3d.io.write_point_cloud("cloud.ply", pcd)
```

---

## –ß–ê–°–¢–¨ 6: –í–´–ó–û–í–´ –ò –ü–£–¢–ò –†–ï–®–ï–ù–ò–Ø

### 6.1 –¢–µ–∫—Å—Ç—É—Ä–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ –≤–æ–¥–µ, –Ω–µ–±–µ, –≥–ª–∞–¥–∫–∏—Ö —Å—Ç–µ–Ω–∞—Ö –Ω–µ—Ç —Ç–µ–∫—Å—Ç—É—Ä—ã –¥–ª—è –º–∞—Ç—á–∏–Ω–≥–∞.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞ –∫–∞—Ä—Ç–µ –≥–ª—É–±–∏–Ω—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è —á—ë—Ä–Ω—ã–µ –¥—ã—Ä—ã (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö).

**–†–µ—à–µ–Ω–∏—è:**

1. **Passive Stereo:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ–≤–∏–¥–æ–≤—É—é —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—é (3+ —Å–Ω–∏–º–∫–æ–≤)
2. **Active Stereo:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–≤–µ—Ç–∞
3. **Deep Learning:** –û–±—É—á–∏—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–∞ –±–æ–ª—å—à–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ

### 6.2 –û–∫–∫–ª—é–∑–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å –≤–∏–¥–Ω–∞ –≤ –ª–µ–≤–æ–º —Å–Ω–∏–º–∫–µ, –Ω–æ —Å–∫—Ä—ã—Ç–∞ –≤ –ø—Ä–∞–≤–æ–º.

**–†–µ—à–µ–Ω–∏–µ: Left-Right Consistency Check**

```python
# –í—ã—á–∏—Å–ª–∏—Ç—å –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å —Å–ª–µ–≤–∞‚Üí–≤–ø—Ä–∞–≤–æ
disp_left_to_right = stereo.compute(left, right)

# –í—ã—á–∏—Å–ª–∏—Ç—å –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å —Å–ø—Ä–∞–≤–∞‚Üí—Å–ª–µ–≤–æ
disp_right_to_left = stereo.compute(right, left)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
consistency_check = np.abs(disp_left_to_right - 
                           (-disp_right_to_left)) < 1

# –û–±–Ω—É–ª–∏—Ç—å –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏
disp_left_to_right[~consistency_check] = 0
```

### 6.3 –®—É–º –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

**–†–µ—à–µ–Ω–∏–µ: –§–∏–ª—å—Ç—Ä—ã –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏**

```python
from cv2 import ximgproc

# Weighted Least Squares (WLS) —Ñ–∏–ª—å—Ç—Ä
wls_filter = ximgproc.createDisparityWLSFilter(stereo_left)
wls_filter.setLambda(8000)
wls_filter.setSigmaColoringEdges(4)

filtered_disp = wls_filter.filter(disp_left, left)

# –ú–µ–¥–∏–∞–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä (–ø—Ä–æ—Å—Ç–æ–π, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π)
median_disp = cv2.medianBlur(disp, 5)
```

---

## –ß–ê–°–¢–¨ 7: –°–û–í–†–ï–ú–ï–ù–ù–´–ï –ü–û–î–•–û–î–´

### 7.1 –ì–ª—É–±–æ–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ

**–ö–ª–∞—Å—Å –º–æ–¥–µ–ª–µ–π:** CNN –¥–ª—è —Å—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥–∞ (Cost Volume Networks)

**–ü—Ä–∏–º–µ—Ä—ã:**
- **CREStereo (2023):** –ë–µ–∑ plane-sweep, –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ
- **RAFTStereo (2021):** –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–µ—Ñ–∞–π–Ω–º–µ–Ω—Ç, –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- **GCNet (2017):** Graph Cut, –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Ç–µ–∫—Å—Ç—É—Ä–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö
- –ú–µ–Ω—å—à–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
- –ú–æ–∂–Ω–æ –æ–±—É—á–∏—Ç—å on-domain

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –¢—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–æ–π –¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ (–Ω–æ GPU —É—Å–∫–æ—Ä—è–µ—Ç)
- –ú–µ–Ω–µ–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ

### 7.2 –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)

**–ò–¥–µ—è:** –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.

```
–õ–µ–≤—ã–π + –ü—Ä–∞–≤—ã–π —Å–Ω–∏–º–æ–∫
         ‚Üì
    [OpenCV SGM] ‚Üí –ø–µ—Ä–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
         ‚Üì
   [CNN —Ä–µ—Ñ–∞–π–Ω–µ—Ä] ‚Üí —É–ª—É—á—à–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
         ‚Üì
  [–ü–æ—Å—Ç—Ñ–∏–ª—å—Ç—Ä WLS] ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
         ‚Üì
    –ö–∞—Ä—Ç–∞ –≥–ª—É–±–∏–Ω—ã ‚úì
```

---

## –ß–ê–°–¢–¨ 8: –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –í –§–û–¢–û–ì–†–ê–ú–ú–ï–¢–†–ò–ò

### 8.1 –°–æ–∑–¥–∞–Ω–∏–µ –¶–ú–† (–¶–∏—Ñ—Ä–æ–≤–æ–π –ú–æ–¥–µ–ª–∏ –†–µ–ª—å–µ—Ñ–∞)

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. **–ê—ç—Ä–æ—Å—ä—ë–º–∫–∞:** –°–∞–º–æ–ª—ë—Ç / –¥—Ä–æ–Ω –¥–µ–ª–∞–µ—Ç —Å–Ω–∏–º–∫–∏ —Å –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ–º ~60%
2. **–°—Ç–µ—Ä–µ–æ–ø–∞—Ä—ã:** –°–æ—Å–µ–¥–Ω–∏–µ —Å–Ω–∏–º–∫–∏ –æ–±—Ä–∞–∑—É—é—Ç —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—ã
3. **–°—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥:** –î–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞—Ä—Ç–∞ –≥–ª—É–±–∏–Ω—ã
4. **–°–ª–∏—è–Ω–∏–µ:** –í—Å–µ –∫–∞—Ä—Ç—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–Ω—É –¶–ú–†
5. **–ì–ò–° –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —ç–∫—Å–ø–æ—Ä—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—ã—Å–æ–∫–æ—Ç–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å —Ä–µ–ª—å–µ—Ñ–∞ (—Ç–æ—á–Ω–æ—Å—Ç—å ¬±0.1 –º –ø—Ä–∏ –ø–æ–ª—ë—Ç–µ –Ω–∞ 100 –º)
- –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–ø–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç
- –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —ç—Ä–æ–∑–∏–∏, –æ–ø–æ–ª–∑–Ω–µ–π, –ª–µ–¥–Ω–∏–∫–æ–≤

### 8.2 –û—Ä—Ç–æ—Ñ–æ—Ç–æ–∫–∞—Ä—Ç–∞

**–ò–¥–µ—è:** –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–Ω–∏–º–æ–∫ –Ω–∞ –ø–ª–æ—Å–∫—É—é –∫–∞—Ä—Ç—É, –∏—Å–ø—Ä–∞–≤–∏–≤ –∏—Å–∫–∞–∂–µ–Ω–∏—è —Ä–µ–ª—å–µ—Ñ–∞.

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –ö–∞–¥–∞—Å—Ç—Ä–æ–≤—ã–µ –∫–∞—Ä—Ç—ã
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –∞–≥—Ä–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ê–Ω–∞–ª–∏–∑ –≥–æ—Ä–æ–¥—Å–∫–æ–π –∑–∞—Å—Ç—Ä–æ–π–∫–∏

---

## –ß–ê–°–¢–¨ 9: –§–û–†–ú–£–õ–´-–®–ü–ê–†–ì–ê–õ–ö–ê

| –§–æ—Ä–º—É–ª–∞ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|------------|--------|
| $Z = \frac{f \times B}{d}$ | –û—Å–Ω–æ–≤–Ω–∞—è. –í—ã—á–∏—Å–ª–∏—Ç—å –≥–ª—É–±–∏–Ω—É | $Z = \frac{3000 \times 0.1}{30} = 10$ –º |
| $d = \frac{f \times B}{Z}$ | –û–±—Ä–∞—Ç–Ω–∞—è. –ù–∞–π—Ç–∏ –ø–∞—Ä–∞–ª–ª–∞–∫—Å | $d = \frac{3000 \times 0.1}{10} = 30$ px |
| $m_z = m_{xy} \cdot \frac{250}{f}$ | –ú–∞—Å—à—Ç–∞–± –≥–ª—É–±–∏–Ω—ã | $m_z = \frac{1}{1000} \times 2.5 = \frac{1}{400}$ |
| $\sigma_Z = \frac{f \times B}{d^2} \times \sigma_d$ | –û—à–∏–±–∫–∞ –≥–ª—É–±–∏–Ω—ã | $\sigma_Z = \frac{3000 \times 0.1}{900} \times 0.5 = 0.17$ –º |

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï –õ–ï–ö–¶–ò–ò

**–¢—Ä–∏ –∫–∏—Ç–∞ —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏–∏:**

1. **–ü–∞—Ä–∞–ª–ª–∞–∫—Å** ‚Äî —Å–º–µ—â–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –º–µ–∂–¥—É —Å–Ω–∏–º–∫–∞–º–∏
2. **–§–æ—Ä–º—É–ª–∞** ‚Äî Z = fB/d —Å–≤—è–∑—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–∞–∫—Å —Å –≥–ª—É–±–∏–Ω–æ–π
3. **–°—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥** ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–∞—Ö–æ–¥–∏—Ç –ø–∞—Ä–∞–ª–ª–∞–∫—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–û—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ:**
- 1725 –≥.: –†–∏—Å–æ–≤–∞–Ω–∏–µ –ø–∞–Ω–æ—Ä–∞–º –≤—Ä—É—á–Ω—É—é
- 1892 –≥.: –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± –º–Ω–∏–º–æ–π –º–∞—Ä–∫–∏
- 1960 –≥.: –ü–µ—Ä–≤—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–π –∞–ø–ø–∞—Ä–∞—Ç
- 2024 –≥.: –ù–µ–π—Ä–æ—Å–µ—Ç–∏ + –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã
- **2030 –≥.: ??** (–≤–∞—à –≤–∫–ª–∞–¥!)

**–ì–ª–∞–≤–Ω–æ–µ –¥–ª—è —ç–∫–∑–∞–º–µ–Ω–∞:**
- ‚úì –ó–Ω–∞—Ç—å —Ñ–æ—Ä–º—É–ª—É Z = fB/d –∏ –µ—ë —Å–º—ã—Å–ª
- ‚úì –ü–æ–Ω–∏–º–∞—Ç—å, –ø–æ—á–µ–º—É –Ω—É–∂–Ω–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
- ‚úì –£–º–µ—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å stereo.compute() –≤ OpenCV
- ‚úì –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç—É –≥–ª—É–±–∏–Ω—ã

---

# –ö–û–î: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

## –ü–æ–ª–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å–æ –≤—Å–µ–º–∏ 6 –ø—Ä–∏–º–µ—Ä–∞–º–∏

```python
#!/usr/bin/env python3
"""
–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –ª–µ–∫—Ü–∏–∏: "–°—Ç–µ—Ä–µ–æ—ç—Ñ—Ñ–µ–∫—Ç –≤ —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏"

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
    python —ç—Ç–æ—Ç_—Ñ–∞–π–ª.py [example_number]

–ü—Ä–∏–º–µ—Ä—ã:
    1 - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π StereoBM
    2 - StereoSGBM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    6 - –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞ (–Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)
"""

import cv2
import numpy as np
import matplotlib.pyplot as plt
import sys

# ============================================================================
# –ü–†–ò–ú–ï–† 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π StereoBM
# ============================================================================

def example_1_minimal_bm():
    """–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä: StereoBM"""
    print("\n" + "=" * 60)
    print("–ü–†–ò–ú–ï–† 1: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π StereoBM")
    print("=" * 60)
    
    # –°–æ–∑–¥–∞—Ç—å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫—É—é —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—É
    h, w = 480, 640
    x = np.arange(w)
    y = np.arange(h)
    X, Y = np.meshgrid(x, y)
    
    # –ß–µ–∫–∫–µ—Ä–±–æ—Ä–¥ (—à–∞—Ö–º–∞—Ç–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω)
    pattern_size = 20
    checkerboard = ((X // pattern_size) + (Y // pattern_size)) % 2 * 200
    
    # –î–æ–±–∞–≤–∏—Ç—å –≥–ª—É–±–∏–Ω—É (–ø–∞—Ä–∞–ª–ª–∞–∫—Å –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Å –ø–æ–∑–∏—Ü–∏–µ–π)
    depth = 20 + (X / w) * 30
    
    # –°–æ–∑–¥–∞—Ç—å —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—É —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º
    left = checkerboard.astype(np.uint8)
    right = np.zeros_like(left)
    
    for y_coord in range(h):
        for x_coord in range(w):
            d = int(depth[y_coord, x_coord])
            if x_coord + d < w:
                right[y_coord, x_coord + d] = left[y_coord, x_coord]
    
    print(f"‚úì –°–æ–∑–¥–∞–Ω–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞ {h}√ó{w}")
    
    # –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç StereoBM
    stereo = cv2.StereoBM_create(
        numDisparities=16 * 5,
        blockSize=15
    )
    
    print("\n–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:")
    print(f"  numDisparities = 80")
    print(f"  blockSize = 15")
    
    # –í—ã—á–∏—Å–ª–∏—Ç—å –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å
    print("–í—ã—á–∏—Å–ª—è–µ–º –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å...")
    disparity = stereo.compute(left, right)
    disparity = disparity.astype(np.float32) / 16.0
    
    # –í—ã—á–∏—Å–ª–∏—Ç—å –≥–ª—É–±–∏–Ω—É (–ì–õ–ê–í–ù–ê–Ø –§–û–†–ú–£–õ–ê!)
    focal_length = 3000.0
    baseline = 0.1
    depth_computed = np.zeros_like(disparity)
    
    mask = disparity > 0
    depth_computed[mask] = (focal_length * baseline) / disparity[mask]
    
    print(f"\n–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–ª—É–±–∏–Ω—ã:")
    print(f"  Min: {depth_computed[mask].min():.2f} –º")
    print(f"  Max: {depth_computed[mask].max():.2f} –º")
    print(f"  Mean: {depth_computed[mask].mean():.2f} –º")
    
    # –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
    fig, axes = plt.subplots(1, 3, figsize=(15, 5))
    
    axes[0].imshow(left, cmap='gray')
    axes[0].set_title('–õ–µ–≤—ã–π —Å–Ω–∏–º–æ–∫')
    axes[0].axis('off')
    
    axes[1].imshow(disparity, cmap='hot')
    axes[1].set_title('–ö–∞—Ä—Ç–∞ –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç–∏')
    axes[1].axis('off')
    
    im3 = axes[2].imshow(depth_computed, cmap='viridis')
    axes[2].set_title('–ö–∞—Ä—Ç–∞ –≥–ª—É–±–∏–Ω—ã (–º–µ—Ç—Ä—ã)')
    axes[2].axis('off')
    plt.colorbar(im3, ax=axes[2])
    
    plt.tight_layout()
    plt.show()

# ============================================================================
# –ü–†–ò–ú–ï–† 2: StereoSGBM
# ============================================================================

def example_2_sgbm():
    """–ë–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–µ—Ç–æ–¥: StereoSGBM"""
    print("\n" + "=" * 60)
    print("–ü–†–ò–ú–ï–† 2: StereoSGBM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)")
    print("=" * 60)
    
    # –°–æ–∑–¥–∞—Ç—å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫—É—é —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—É
    h, w = 480, 640
    x = np.arange(w)
    y = np.arange(h)
    X, Y = np.meshgrid(x, y)
    
    checkerboard = ((X // 20) + (Y // 20)) % 2 * 200
    depth = 20 + (X / w) * 30
    
    left = checkerboard.astype(np.uint8)
    right = np.zeros_like(left)
    
    for y_coord in range(h):
        for x_coord in range(w):
            d = int(depth[y_coord, x_coord])
            if x_coord + d < w:
                right[y_coord, x_coord + d] = left[y_coord, x_coord]
    
    # –î–æ–±–∞–≤–∏—Ç—å —à—É–º
    noise_left = np.random.normal(0, 5, left.shape)
    noise_right = np.random.normal(0, 5, right.shape)
    
    left = np.clip(left + noise_left, 0, 255).astype(np.uint8)
    right = np.clip(right + noise_right, 0, 255).astype(np.uint8)
    
    print(f"‚úì –°–æ–∑–¥–∞–Ω–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞ —Å —à—É–º–æ–º")
    
    # –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç StereoSGBM
    blockSize = 15
    stereo = cv2.StereoSGBM_create(
        minDisparity=0,
        numDisparities=80,
        blockSize=blockSize,
        P1=8 * 3 * blockSize * blockSize,
        P2=32 * 3 * blockSize * blockSize,
        disp12MaxDiff=1,
        preFilterCap=63,
        uniquenessRatio=10,
        speckleWindowSize=100,
        speckleRange=2
    )
    
    print("\n–ü–∞—Ä–∞–º–µ—Ç—Ä—ã StereoSGBM:")
    print(f"  numDisparities = 80")
    print(f"  blockSize = 15")
    print(f"  P1 = {8 * 3 * blockSize * blockSize}")
    print(f"  P2 = {32 * 3 * blockSize * blockSize}")
    
    # –í—ã—á–∏—Å–ª–∏—Ç—å
    print("\n–í—ã—á–∏—Å–ª—è–µ–º –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å (StereoSGBM)...")
    disparity = stereo.compute(left, right)
    disparity = disparity.astype(np.float32) / 16.0
    
    # –í—ã—á–∏—Å–ª–∏—Ç—å –≥–ª—É–±–∏–Ω—É
    focal_length = 3000.0
    baseline = 0.1
    depth_computed = np.zeros_like(disparity)
    mask = disparity > 0
    depth_computed[mask] = (focal_length * baseline) / disparity[mask]
    
    print(f"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–ª—É–±–∏–Ω—ã (StereoSGBM):")
    print(f"  Min: {depth_computed[mask].min():.2f} –º")
    print(f"  Max: {depth_computed[mask].max():.2f} –º")
    print(f"  Mean: {depth_computed[mask].mean():.2f} –º")
    
    # –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
    fig, axes = plt.subplots(1, 3, figsize=(15, 5))
    
    axes[0].imshow(left, cmap='gray')
    axes[0].set_title('–õ–µ–≤—ã–π —Å–Ω–∏–º–æ–∫ (—Å —à—É–º–æ–º)')
    axes[0].axis('off')
    
    axes[1].imshow(disparity, cmap='hot')
    axes[1].set_title('–î–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å (StereoSGBM)')
    axes[1].axis('off')
    
    im = axes[2].imshow(depth_computed, cmap='viridis')
    axes[2].set_title('–ì–ª—É–±–∏–Ω–∞ (StereoSGBM)')
    axes[2].axis('off')
    plt.colorbar(im, ax=axes[2])
    
    plt.tight_layout()
    plt.show()

# ============================================================================
# –ü–†–ò–ú–ï–† 6: –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞
# ============================================================================

def example_6_synthetic():
    """–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–π —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—ã"""
    print("\n" + "=" * 60)
    print("–ü–†–ò–ú–ï–† 6: –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞")
    print("=" * 60)
    
    h, w = 480, 640
    
    # –°–æ–∑–¥–∞—Ç—å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º
    x = np.arange(w)
    y = np.arange(h)
    X, Y = np.meshgrid(x, y)
    
    # –ß–µ–∫–∫–µ—Ä–±–æ—Ä–¥
    pattern_size = 20
    checkerboard = ((X // pattern_size) + (Y // pattern_size)) % 2 * 200
    
    # –î–æ–±–∞–≤–∏—Ç—å –≥–ª—É–±–∏–Ω—É
    depth = 20 + (X / w) * 30
    
    # –°–æ–∑–¥–∞—Ç—å —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—É —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º
    left = checkerboard.astype(np.uint8)
    right = np.zeros_like(left)
    
    for y_coord in range(h):
        for x_coord in range(w):
            d = int(depth[y_coord, x_coord])
            if x_coord + d < w:
                right[y_coord, x_coord + d] = left[y_coord, x_coord]
    
    # –î–æ–±–∞–≤–∏—Ç—å —à—É–º
    noise_left = np.random.normal(0, 5, left.shape)
    noise_right = np.random.normal(0, 5, right.shape)
    
    left = np.clip(left + noise_left, 0, 255).astype(np.uint8)
    right = np.clip(right + noise_right, 0, 255).astype(np.uint8)
    
    print(f"–°–æ–∑–¥–∞–Ω–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞ {h}√ó{w}")
    print(f"–î–∏–∞–ø–∞–∑–æ–Ω –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç–∏: 20‚Äì50 –ø–∏–∫—Å–µ–ª—å")
    
    # –°—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥
    stereo = cv2.StereoBM_create(numDisparities=80, blockSize=15)
    computed_disp = stereo.compute(left, right)
    computed_disp = computed_disp.astype(np.float32) / 16.0
    
    # –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
    fig, axes = plt.subplots(2, 2, figsize=(12, 10))
    
    axes[0, 0].imshow(left, cmap='gray')
    axes[0, 0].set_title('–õ–µ–≤—ã–π —Å–Ω–∏–º–æ–∫')
    axes[0, 0].axis('off')
    
    axes[0, 1].imshow(right, cmap='gray')
    axes[0, 1].set_title('–ü—Ä–∞–≤—ã–π —Å–Ω–∏–º–æ–∫')
    axes[0, 1].axis('off')
    
    axes[1, 0].imshow(depth, cmap='hot')
    axes[1, 0].set_title('–ò—Å—Ç–∏–Ω–Ω–∞—è –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å (GT)')
    axes[1, 0].axis('off')
    
    axes[1, 1].imshow(computed_disp, cmap='hot')
    axes[1, 1].set_title('–í—ã—á–∏—Å–ª–µ–Ω–Ω–∞—è –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç—å')
    axes[1, 1].axis('off')
    
    # –í—ã—á–∏—Å–ª–∏—Ç—å –æ—à–∏–±–∫—É
    error = np.abs(depth - computed_disp)
    error_mean = error[computed_disp > 0].mean()
    
    plt.suptitle(f'–°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç (—Å—Ä–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞: {error_mean:.2f} px)', 
                 fontsize=14)
    plt.tight_layout()
    plt.show()

# ============================================================================
# MAIN
# ============================================================================

def main():
    print("\n")
    print("‚ïî" + "‚ïê" * 58 + "‚ïó")
    print("‚ïë" + " " * 58 + "‚ïë")
    print("‚ïë" + "  –õ–µ–∫—Ü–∏—è: –°–¢–ï–†–ï–û–≠–§–§–ï–ö–¢ –í –§–û–¢–û–ì–†–ê–ú–ú–ï–¢–†–ò–ò".center(58) + "‚ïë")
    print("‚ïë" + "  –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–¥–∞".center(58) + "‚ïë")
    print("‚ïë" + " " * 58 + "‚ïë")
    print("‚ïö" + "‚ïê" * 58 + "‚ïù")
    
    examples = {
        '1': ("–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π StereoBM", example_1_minimal_bm),
        '2': ("StereoSGBM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)", example_2_sgbm),
        '6': ("–°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞", example_6_synthetic),
    }
    
    print("\n–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:")
    for key, (desc, _) in examples.items():
        print(f"  {key} - {desc}")
    
    if len(sys.argv) > 1:
        choice = sys.argv[1]
    else:
        print("\n–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä (1, 2 –∏–ª–∏ 6):")
        choice = input("–í–∞—à –≤—ã–±–æ—Ä: ").strip()
    
    if choice in examples:
        desc, func = examples[choice]
        print(f"\n‚ñ∂ –ó–∞–ø—É—Å–∫–∞–µ–º: {desc}")
        func()
    else:
        print(f"‚úó –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –Ω–æ–º–µ—Ä: {choice}")

if __name__ == '__main__':
    main()
```

---

# –ú–ï–¢–û–î–ò–ö–ê: –î–ª—è –ª–µ–∫—Ç–æ—Ä–∞

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–∑–∞ –Ω–µ–¥–µ–ª—é)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
- [ ] –ù–æ—É—Ç–±—É–∫ —Å Python 3.8+, OpenCV (4.5+), NumPy, Matplotlib
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: `pip install opencv-contrib-python opencv-python-headless numpy matplotlib scipy`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–º–µ—Ä–æ–≤
- [ ] HDMI –∫–∞–±–µ–ª—å –∫ –ø—Ä–æ–µ–∫—Ç–æ—Ä—É
- [ ] –°—Ç–µ—Ä–µ–æ—Å–∫–æ–ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ—Ä–µ–æ—ç—Ñ—Ñ–µ–∫—Ç–∞)

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
- [ ] –ü–µ—á–∞—Ç–Ω—ã–µ –∫–æ–ø–∏–∏ (–Ω–∞ –∫–∞–∂–¥–æ–≥–æ): —Ç–∞–±–ª–∏—Ü–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ñ–æ—Ä–º—É–ª—ã, URLs –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- [ ] –ö–æ–ø–∏—è —É—á–µ–±–Ω–∏–∫–∞ –ö—Ä–∞—Å–Ω–æ–ø–µ–≤—Ü–µ–≤–∞ (–µ—Å–ª–∏ —É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –µ—Å—Ç—å)

---

## –ù–∞ –ª–µ–∫—Ü–∏–∏: –ü–æ—à–∞–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (90 –º–∏–Ω)

### –ë–ª–æ–∫ 1: –ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ —Ñ–∏–∑–∏–æ–ª–æ–≥–∏—è (15 –º–∏–Ω)

**–û—Ç–∫—Ä—ã—Ç—å –≤–æ–ø—Ä–æ—Å–æ–º (3 –º–∏–Ω):**
- "–ü–æ—á–µ–º—É –º—ã –≤–∏–¥–∏–º –≥–ª—É–±–∏–Ω—É –¥–≤—É–º—è –≥–ª–∞–∑–∞–º–∏, –Ω–æ –Ω–µ –≤–∏–¥–∏–º —Ç—Ä–µ–º—è?"
- "–ó–∞–∫—Ä–æ–π—Ç–µ –ª–µ–≤—ã–π –≥–ª–∞–∑, –∑–∞—Ç–µ–º –ø—Ä–∞–≤—ã–π. –í–∏–¥–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É?"

**–ò—Å—Ç–æ—Ä–∏—è (5 –º–∏–Ω):**
- –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –Ω–∞ –¥–æ—Å–∫–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –æ—Å—å (1725 ‚Üí 2024)
- –ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å: **—Ç–æ, —á—Ç–æ –¥–µ–ª–∞–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ 1901 –≥–æ–¥—É, —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ**

**–°–≤—è–∑—å —Å –∫—É—Ä—Å–æ–º (4 –º–∏–Ω):**
- "–í—ã —É–∂–µ –∑–Ω–∞–µ—Ç–µ –æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–µ–∫—Ü–∏–∏"
- "–°—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞ ‚Äî —ç—Ç–æ –¥–≤–µ –ø—Ä–æ–µ–∫—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞"
- "–ü–∞—Ä–∞–ª–ª–∞–∫—Å ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 150 –ª–µ—Ç"

### –ë–ª–æ–∫ 2: –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ (20 –º–∏–Ω)

**–°—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞ (5 –º–∏–Ω):**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: –¥–≤–∞ —Å–Ω–∏–º–∫–∞ –∏–∑ **—Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–µ–∫**
- –£—Å–ª–æ–≤–∏–µ 1: —Ä–∞–∑–Ω–æ–º–∞—Å—à—Ç–∞–±–Ω–æ—Å—Ç—å ‚â§ 16%
- –£—Å–ª–æ–≤–∏–µ 2: –∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏—è ‚â§ 15¬∞

**–°—Ç–µ—Ä–µ–æ–º–æ–¥–µ–ª—å (5 –º–∏–Ω):**
- –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É–ª—É –º–∞—Å—à—Ç–∞–±–∞: $m_z = m_{xy} \cdot \frac{250}{f}$
- **–ß–∏—Å–ª–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä:** m_xy = 1:1000, f = 100 –º–º ‚Üí m_z = 1:400

**–ü–∞—Ä–∞–ª–ª–∞–∫—Å (10 –º–∏–Ω):**
- **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:** $Z = \frac{f \times B}{p}$
- –ü—Ä–∏–º–µ—Ä—ã —á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ (—Ç–∞–±–ª–∏—Ü–∞)
- "–ü–∞—Ä–∞–ª–ª–∞–∫—Å –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª–µ–Ω –≥–ª—É–±–∏–Ω–µ!"

### –ë–ª–æ–∫ 3: –≠–ø–∏–ø–æ–ª—è—Ä–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è (10 –º–∏–Ω)

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?**
- "–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–º–µ—Ä—ã —Ä–µ–¥–∫–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –∏–¥–µ–∞–ª—å–Ω–æ"
- "–ö–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–æ–∏—Å–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π? –í–º–µ—Å—Ç–æ 2D –ø–æ–∏—Å–∫–∞ ‚Üí 1D –ø–æ–∏—Å–∫"

**–í—ã–ø—Ä—è–º–ª–µ–Ω–∏–µ (–≥–ª–∞–≤–Ω–æ–µ):**
- –ü–æ–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ –¥–æ-–ø–æ—Å–ª–µ –≤—ã–ø—Ä—è–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
- **–ó–∞–ø–æ–º–Ω–∏—Ç—å:** –ü–æ—Å–ª–µ –≤—ã–ø—Ä—è–º–ª–µ–Ω–∏—è: $y_L = y_R$ (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞)

### –ë–ª–æ–∫ 4: –°—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥ (15 –º–∏–Ω)

**Block Matching (5 –º–∏–Ω):**
- –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –æ–∫–Ω–æ 15√ó15
- –ú–µ—Ä–∞ —Å—Ö–æ–¥—Å—Ç–≤–∞: SAD = —Å—É–º–º–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö —Ä–∞–∑–Ω–æ—Å—Ç–µ–π

**Semi-Global Matching (10 –º–∏–Ω):**
- **–ü—Ä–æ–±–ª–µ–º–∞ BM:** –®—É–º–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- **–ò–¥–µ—è SGM:** –î–æ–±–∞–≤–∏–º —à—Ç—Ä–∞—Ñ –∑–∞ —Ä–∞–∑–ª–∏—á–∏–µ –¥–∏—Å–ø–∞—Ä–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–æ—Å–µ–¥—è–º–∏
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** P1 = 600, P2 = 2400

**–í—ã–≤–æ–¥:** SGM ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–±–æ—Ä –≤ —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏.

### –ë–ª–æ–∫ 5: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–¥–∞ (25 –º–∏–Ω)

–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã live:

```python
# –ü—Ä–∏–º–µ—Ä 1 (5 –º–∏–Ω): –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥
stereo = cv2.StereoBM_create(numDisparities=80, blockSize=15)
disparity = stereo.compute(left, right)
Z = (focal_length * baseline) / disparity

# –ü—Ä–∏–º–µ—Ä 2 (5 –º–∏–Ω): StereoSGBM
stereo = cv2.StereoSGBM_create(...)
disparity = stereo.compute(left, right)

# –ü—Ä–∏–º–µ—Ä 3 (5 –º–∏–Ω): –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
# –ú–∞–ª–µ–Ω—å–∫–∏–π –±–ª–æ–∫ ‚Üí —à—É–º
# –ë–æ–ª—å—à–æ–π –±–ª–æ–∫ ‚Üí —Å–º–∞–∑–∞–Ω–æ

# –ü—Ä–∏–º–µ—Ä 4 (5 –º–∏–Ω): 3D –æ–±–ª–∞–∫–æ
points_3d = cv2.reprojectImageTo3D(disparity, Q)
```

### –ë–ª–æ–∫ 6: –í—ã–∑–æ–≤—ã (10 –º–∏–Ω)

**–¢–µ–∫—Å—Ç—É—Ä–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ (3 –º–∏–Ω):**
- –ì–¥–µ –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ—Ç –æ—à–∏–±–∞—Ç—å—Å—è? (–≤–æ–¥–∞, –Ω–µ–±–æ, —Ç—Ä–∞–≤–∞)

**–û–∫–∫–ª—é–∑–∏–∏ (3 –º–∏–Ω):**
- –ù–∞ –∫—Ä–∞—è—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º –æ—à–∏–±–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏—è (4 –º–∏–Ω):**
- Active Stereo, Multi-view, Deep Learning

### –ë–ª–æ–∫ 7: –ó–∞–∫–ª—é—á–µ–Ω–∏–µ (5 –º–∏–Ω)

**–¢—Ä–∏ —É—Ä–æ–≤–Ω—è:**
1. **–§–∏–∑–∏–æ–ª–æ–≥–∏—è**: –ë–∏–Ω–æ–∫—É–ª—è—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ
2. **–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞**: –ü–∞—Ä–∞–ª–ª–∞–∫—Å ‚Üí Z = fB/p
3. **–í—ã—á–∏—Å–ª–µ–Ω–∏—è**: StereoBM/SGM + –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞

**–ì–ª–∞–≤–Ω–æ–µ:** –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –≤—Å–µ–π 3D —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏!

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**–õ—ë–≥–∫–∏–µ:**
1. –ö–∞–∫–æ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –≥–ª–∞–∑–∞–º–∏? (~64 –º–º)
2. –ö–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–º–µ—â–µ–Ω–∏–µ —Ç–æ—á–∫–∏ –º–µ–∂–¥—É —Å–Ω–∏–º–∫–∞–º–∏? (–ø–∞—Ä–∞–ª–ª–∞–∫—Å)
3. –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä–∞? (–¥–≤–∞ —Å–Ω–∏–º–∫–∞ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ç–æ—á–µ–∫)

**–°—Ä–µ–¥–Ω–∏–µ:**
4. –ü–æ—á–µ–º—É –Ω–∞–º –Ω—É–∂–Ω–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∫–∞–º–µ—Ä?
5. –ö–∞–∫–æ–≤–∞ —Ä–æ–ª—å –≤—ã–ø—Ä—è–º–ª–µ–Ω–∏—è?
6. –ü–æ—á–µ–º—É SGM –ª—É—á—à–µ StereoBM?

**–°–ª–æ–∂–Ω—ã–µ:**
7. –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è —Ç–æ—á–Ω–æ—Å—Ç—å –≥–ª—É–±–∏–Ω—ã, –µ—Å–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –±–∞–∑–∏—Å –≤ 2 —Ä–∞–∑–∞?
8. –ü–æ—á–µ–º—É –Ω–∞ —Ç–µ–∫—Å—Ç—É—Ä–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö –∫–∞—Ä—Ç–∞ –≥–ª—É–±–∏–Ω—ã –∏–º–µ–µ—Ç –¥—ã—Ä—ã?
9. –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ç–µ—Ä–µ–æ—ç—Ñ—Ñ–µ–∫—Ç –≤ –∞—ç—Ä–æ—Å—ä—ë–º–∫–µ –º–µ—Å—Ç–Ω–æ—Å—Ç–∏?

---

# –°–ü–†–ê–í–û–ß–ù–ò–ö: –†–µ—Å—É—Ä—Å—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏

## –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —É—á–µ–±–Ω–∏–∫–∏

1. **–ö—Ä–∞—Å–Ω–æ–ø–µ–≤—Ü–µ–≤, –ë.–í.** (2008)
   - *–§–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏—è*. –ú–æ—Å–∫–≤–∞: –ú–ò–ò–ì–ê–∏–ö
   - **–†–∞–∑–¥–µ–ª—ã**: 1.1‚Äì1.6 (—Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—è), 4.5 (–ø–∞—Ä–∞–ª–ª–∞–∫—Å), 5.6‚Äì5.7 (—Ñ–æ—Ä–º—É–ª—ã)

2. **Hartley, R., Zisserman, A.** (2003)
   - *Multiple View Geometry in Computer Vision*. Cambridge University Press
   - **–†–∞–∑–¥–µ–ª—ã**: Ch. 9‚Äì11 (—ç–ø–∏–ø–æ–ª. –≥–µ–æ–º–µ—Ç—Ä–∏—è), Ch. 17 (—Å—Ç–µ—Ä–µ–æ–º–∞—Ç—á–∏–Ω–≥)

3. **–õ–æ–±–∞–Ω–æ–≤, –ê.–ù.** (2018)
   - *–¶–∏—Ñ—Ä–æ–≤–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏—è*. –ú–æ—Å–∫–≤–∞: –ú–ò–ò–ì–ê–∏–ö

## –ù–∞—É—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏

1. **Hirschm√ºller, H.** (2005)
   - "Accurate and efficient stereo processing by semi-global matching and mutual information"
   - DOI: 10.1109/CVPR.2005.56

2. **Scharstein, D., Szeliski, R.** (2002)
   - "A Taxonomy and Evaluation of Dense Two-Frame Stereo Correspondence Algorithms"
   - IJCV, 47(1), pp. 7‚Äì42

3. **Li, Z., et al.** (2023)
   - "CREStereo: Volumetric Stereo Without Plane-Sweep Volume"
   - CVPR 2023, arXiv:2301.03222

## Open Source –ü–û

| –ù–∞–∑–≤–∞–Ω–∏–µ | –Ø–∑—ã–∫ | –§—É–Ω–∫—Ü–∏—è |
|----------|------|---------|
| **OpenCV** | C++/Python | StereoBM, StereoSGBM |
| **COLMAP** | C++ | –ü–æ–ª–Ω–∞—è —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏—è (SfM, MVS) |
| **Meshroom** | GUI (NVIDIA) | 3D —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è |
| **Open3D** | Python | –û–±–ª–∞–∫–∞ —Ç–æ—á–µ–∫ |
| **CloudCompare** | C++ | –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–ª–∞–∫–æ–≤ —Ç–æ—á–µ–∫ |

## –î–∞—Ç–∞—Å–µ—Ç—ã

- **Middlebury:** https://vision.middlebury.edu/stereo/
- **KITTI:** https://www.cvlibs.net/datasets/kitti/
- **ETH3D:** https://www.eth3d.net/

## –í–∏–¥–µ–æ–ª–µ–∫—Ü–∏–∏

- **YouTube (Cyrill Stachniss):** Structure from Motion, Dense 3D Reconstruction
- **YouTube (LearnOpenCV):** Stereo Vision tutorials
- **Coursera:** Computer Vision Specialization

## Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```bash
pip install opencv-contrib-python open3d numpy matplotlib scipy
```

---

## –ß–ê–°–¢–û –ó–ê–î–ê–í–ê–ï–ú–´–ï –í–û–ü–†–û–°–´

**Q: –ù–∞—Å–∫–æ–ª—å–∫–æ —Ç–æ—á–Ω–∞ —Å—Ç–µ—Ä–µ–æ—Å–∫–æ–ø–∏—è?**  
A: –¢–æ—á–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±–∞–∑–∏—Å–∞ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞. –¢–∏–ø–∏—á–Ω–æ: ¬±0.1‚Äì1% –æ—Ç –≥–ª—É–±–∏–Ω—ã.

**Q: –ü–æ—á–µ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç StereoBM —Ç–∞–∫–æ–π —à—É–º–∏—Ç?**  
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ StereoSGBM –∏–ª–∏ WLS-—Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è.

**Q: –ö–∞–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä blockSize –≤—ã–±—Ä–∞—Ç—å?**  
A: –û–±—ã—á–Ω–æ 15‚Äì25. –ú–µ–Ω—å—à–µ ‚Üí —à—É–º, –±–æ–ª—å—à–µ ‚Üí —Å–º–∞–∑–∞–Ω–æ. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ!

**Q: –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∫–∞–º–µ—Ä?**  
A: –î–∞, –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏. –ù–æ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ –Ω–µ—ë –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.

**Q: –ú–æ–∂–µ—Ç –ª–∏ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏?**  
A: –î–∞! StereoBM –Ω–∞ GPU: ~30 fps. StereoSGBM: ~5 fps.

**Q: –ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–µ—Ä–µ–æ–ø–∞—Ä—É?**  
A: Middlebury –¥–∞—Ç–∞—Å–µ—Ç, –∏–ª–∏ —Å–Ω–∏–º–∏—Ç–µ —Å–≤–æ—é —Å –¥—Ä–æ–Ω–∞/—Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞.

---

## –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
pip install opencv-contrib-python numpy matplotlib scipy open3d
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤
```bash
python —ç—Ç–æ—Ç_—Ñ–∞–π–ª.py 1    # StereoBM
python —ç—Ç–æ—Ç_—Ñ–∞–π–ª.py 2    # StereoSGBM
python —ç—Ç–æ—Ç_—Ñ–∞–π–ª.py 6    # –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è (–±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)
```

### –ì–ª–∞–≤–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã (–∑–∞–ø–æ–º–Ω–∏—Ç—å!)

```
Z = (f √ó B) / d

–≥–¥–µ:
  Z = –≥–ª—É–±–∏–Ω–∞ (–º–µ—Ç—Ä—ã)
  f = —Ñ–æ–∫—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–ø–∏–∫—Å–µ–ª–∏)
  B = –±–∞–∑–∏—Å –º–µ–∂–¥—É –∫–∞–º–µ—Ä–∞–º–∏ (–º–µ—Ç—Ä—ã)
  d = –ø–∞—Ä–∞–ª–ª–∞–∫—Å (–ø–∏–∫—Å–µ–ª–∏)
```

---

## –ê–í–¢–û–†–°–¢–í–û –ò –õ–ò–¶–ï–ù–ó–ò–Ø

**–ú–∞—Ç–µ—Ä–∏–∞–ª—ã —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è:**
- –°—Ç—É–¥–µ–Ω—Ç–æ–≤ –ú–ò–ò–ì–ê–∏–ö, –∫–∞—Ñ–µ–¥—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞–º–º–µ—Ç—Ä–∏–∏
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π
- –°–≤–æ–±–æ–¥–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è

**–ù–∞ –æ—Å–Ω–æ–≤–µ:**
- –£—á–µ–±–Ω–æ–≥–æ –ø–æ—Å–æ–±–∏—è –ö—Ä–∞—Å–Ω–æ–ø–µ–≤—Ü–µ–≤–∞, –ë.–í. (2008)
- Multiple View Geometry, Hartley & Zisserman (2003)
- –û—Ç–∫—Ä—ã—Ç—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (OpenCV, GitHub, arXiv)

---

**–î–µ–∫–∞–±—Ä—å 2024 | –í–µ—Ä—Å–∏—è 1.0 | –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

**–£–°–ü–ï–•–û–í –í –ò–ó–£–ß–ï–ù–ò–ò –°–¢–ï–†–ï–û–°–ö–û–ü–ò–ò! üöÄ**
